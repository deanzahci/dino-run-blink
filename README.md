# Dino Run Blink

A Python project to play the classic offline dinosaur game using eye blinks detected by a MUSE 2 Brain-Computer Interface (BCI). The script processes EOG signals in real-time, calculates their RMS value, and simulates a spacebar press upon detecting a blink.

https://github.com/user-attachments/assets/89b8f244-222a-4ff5-aeae-40e1bc9b25e1

## How It Works

This system captures electrooculography (EOG) signals, which are generated by the muscle movements around the eyes during a blink.

1.  **Data Acquisition**: Data is captured from the **AF7** (channel 1) and **AF8** (channel 2) sensors on the MUSE 2 headset at a sampling rate of **256 Hz** (refer to `SAMPLE_RATE` in `config.py`).
2.  **Real-time Streaming**: The data is streamed from the MUSE 2 to a PC via Bluetooth using the **Petalmetrics** software. The script connects to the LSL stream named `"PetalStream_eeg"`.
3.  **Signal Processing**:
    - The Python script receives the LSL data stream and collects it into a buffer of the determined size (refer to `BUFFER_SIZE` in `config.py`).
    - A **Butterworth bandpass filter** (0.5 Hz to 50.0 Hz) is applied to the data from each channel to remove noise.
    - The **Root Mean Square (RMS)** is calculated for each channel (AF7, AF8) within the buffer.
    `rms_af7 = np.sqrt(np.mean(np.square(af7_data)))
    rms_af8 = np.sqrt(np.mean(np.square(af8_data)))
    combined_rms = np.sqrt((rms_af7**2 + rms_af8**2) / 2)`
4.  **Blink Detection**: If this combined RMS value exceeds a predefined `BLINK_THRESHOLD`, it is registered as a blink.
5.  **Game Control**: Upon detecting a blink, the script simulates a **spacebar press** using `pynput`, causing the dinosaur in the game to jump.

---

## Requirements

### Hardware

- MUSE 2 Headset (or compatible EEG device)
- A PC with Bluetooth
- Petalmetrics Application

### Software

- Python 3.11 (pylsl library might not support versions above 3.11)
- Check [pyproject.toml](pyproject.toml) or [requirements.txt](requirements.txt) for the full list of dependencies.
